package main.pages.specials;

import main.helpers.Constants;
import main.helpers.Utility;
import main.pages.Special;

public class Details extends Special{

	public Details(){
		super("Details");
	}
	
	/**
	 * Page superclass 
	 */
	public String buildContent() {
		
		//Questions
		DetailsReader reader = new DetailsReader(Constants.EXCEL_FILE);
		
		String write = "<div class='row'><div class='small-12 columns'>"
					+ "<div class='row'><div class='small-12 columns'>";
		
			int i=0;
			for(String[] arr : reader.getArray()){
				if(i == 0){
					write += writeHeader(false, "About our", "Products");
				}else if(i == reader.getBreakingPoint()){
					write += writeHeader(false, "Placing an", "Order");
				}
				String question = Utility.convertToText(arr[0]);
				write += "<p class='bold pointer'><a href='#" + i + "'>" + question + "</a></p>";
				i++;
			}
		write += "</div></div>" + Constants.BLANK;
		
		//Answers
		reader = new DetailsReader(Constants.EXCEL);
		
		write += "<div class='row'><div class='small-12 columns'>";
			write += writeHeader(true, "About our", "Products");
			write += "<a name='0'>&nbsp;</a><br>";
			
			i=0;
			for(String[] arr : reader){
				String q = Utility.textConvert(arr[0]);
				String a = Utility.textConvert(arr[1]);
				write += "<div class='row'><div class='small-12 columns'><p class='bold pointer'><a id='PopBlue' href='#" + i + "' onClick='boldStuff(" + i + ");' '>" + q + "</a></p></div></div>";
				write += "<div class='row'><div class='small-12 columns'><p>" + a + "</p></div></div>";
				if(i+1 == reader.getBreakingPoint()){
					write += writeHeader(true, "Placing an", "Order");
				}
				write += "<a name='" + (i + 1) + "'>&nbsp;</a><br>";
				i++;
			}
			write += "</div></div>";
		write += "</div></div>";
		
		for(i=0; i<35; i++){
			write += Constants.BLANK;
		}	
		
		return write;
	}
	
	/**
	 * Helper function. Builds the header lines
	 * @param haveName whether to give it a name id.
	 * @param pre the first part of the string
	 * @param main the second part of the string
	 * @return the header line
	 */
	private String writeHeader(boolean haveName, String pre, String main){
		String name;
		if(haveName==true){name = "name=" + main;}else{name="";}
		String blank;
		if(main == "Order"){blank = Constants.BLANK;}else{blank="";}
		return blank + "<h3><a class='bold popBlue' " + name + " href='#" + main + "'>" + pre + " " + main + "</a></h3>";
	}
}
